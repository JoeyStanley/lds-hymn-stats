<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joey Stanley">
<meta name="dcterms.date" content="2023-10-23">

<title>LDS Hymn Stats - What hymns are sung in October as a result of the Primary Program?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SG4E42NZ2F"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SG4E42NZ2F', { 'anonymize_ip': true});
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="LDS Hymn Stats - What hymns are sung in October as a result of the Primary Program?">
<meta property="og:description" content="">
<meta property="og:image" content="https://hymnstats.joeystanley.com/posts/primary_program/index_files/figure-html/unnamed-chunk-9-1.png">
<meta property="og:site-name" content="LDS Hymn Stats">
<meta property="og:image:height" content="1920">
<meta property="og:image:width" content="1536">
<meta name="twitter:title" content="LDS Hymn Stats - What hymns are sung in October as a result of the Primary Program?">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://hymnstats.joeystanley.com/posts/primary_program/index_files/figure-html/unnamed-chunk-9-1.png">
<meta name="twitter:image-height" content="1920">
<meta name="twitter:image-width" content="1536">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">LDS Hymn Stats</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../findings.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../overview.html" rel="" target="">
 <span class="menu-text">Summarized Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contribute.html" rel="" target="">
 <span class="menu-text">Contribute</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/ldshymnstats" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/JoeyStanley/lds-hymn-stats" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../findings.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="../../images/logo.jpeg" class="img-fluid"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#halloween" id="toc-halloween" class="nav-link active" data-scroll-target="#halloween">Halloween?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">What hymns are sung in October as a result of the Primary Program?</h1>
  <div class="quarto-categories">
    <div class="quarto-category">frequency</div>
    <div class="quarto-category">holidays</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joey Stanley </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>October is peak Primary Program season. According to the Handbook, the “Children’s Sacrament Meeting Presentation” is held annually “during the last few months of the year.” The wards I’ve been in typically do it in October or late September. So, since we’re approaching the end of October, I thought I’d take a look at what congregational hymns are sung around this time of year, likely as a result of the Primary Program. It’s a little difficult to see what hymns are sung the most in October, because we have several other things going on, including <a href="../../posts/general_conference">General Conference</a> and a Fast Sunday. So, if we ignore those for now, we can start to see what hymns emerge as being the most autumnal hymn.</p>
<p>The following table shows the top ten most common hymns sung in October, excluding sacrament hymns and General Conference–related hymns. The numbers are not huge—it’s not like we’re seeing a very obvious trend going on across the church. But, it is probably not a coincidence that <hymn>I Am a Child of God (#301)</hymn> and <hymn>Teach Me to Walk in the Light (#304)</hymn> are among the Top 3. These are most likely related to the Primary Programs.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Hymn</th>
<th style="text-align: left;">Wards that sang it in October</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">I Am a Child of God (301)</td>
<td style="text-align: left;">4.39%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Teach Me to Walk in the Light (304)</td>
<td style="text-align: left;">4.39%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Come, Follow Me (116)</td>
<td style="text-align: left;">3.97%</td>
</tr>
<tr class="even">
<td style="text-align: left;">I Know That My Redeemer Lives (136)</td>
<td style="text-align: left;">3.71%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">How Firm a Foundation (85)</td>
<td style="text-align: left;">3.49%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lord, I Would Follow Thee (220)</td>
<td style="text-align: left;">3.28%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">I Believe in Christ (134)</td>
<td style="text-align: left;">3.12%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Because I Have Been Given Much (219)</td>
<td style="text-align: left;">3.07%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Choose the Right (239)</td>
<td style="text-align: left;">2.81%</td>
</tr>
<tr class="even">
<td style="text-align: left;">The Lord Is My Light (89)</td>
<td style="text-align: left;">2.70%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>But, raw frequency doesn’t tell the whole story. You can see on this list that the other eight of the top ten most common hymns in October are hymns that are common throughout the year. In other words, of course <hymn>Because I Have Been Given Much (#219)</hymn> is common in October: <a href="../../posts/sacrament">it’s the most common non-sacrament hymn</a>! In fact, those eight other hymns are among the top 13 most common non-sacrament hymns. So, this table doesn’t say too much by itself.</p>
<p>So, as a way to control for how popular a hymn is overall, I’ve done a different calculation that accounts for how much the hymn is sung within a particular range compared to not within a range.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Technical details for nerds :)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Take <hymn>I Am a Child of God (#301)</hymn> and the month of October. In my 18,368 sacrament meetings, I have 63,818 individual hymns. 5,213 of those are in the month of October. Among those, <hymn>I Am a Child of God (#301)</hymn> was sung 71 times, or 1.36% of the data. Outside of October, I have 58,605 data points, 313 of which are <hymn>I Am a Child of God (#301)</hymn>, or 0.53%. So, even though 313 times outside of October is a larger number than 71 times inside of October, you have to keep in mind that there are just 3–4 weeks in October where it could be sung, and around 48 weeks that it could be sung during the rest of the year. So that 313 is spread more thinly over those 48 weeks and the 71 times in October is more concentrated. So, if we divide the first percentage by the second percentage, we get 2.56. We can interpret that to mean that to mean that <hymn>I Am a Child of God (#301)</hymn> is 2.56 times more likely to be sung in a random week in October than in a random week during the rest of the year.</p>
<p>For comparison, <hymn>Because I Have Been Given Much (#219)</hymn> was sung 54 times in October (1.10%) and 557 times during the rest of year (0.95%). Dividing those two, we get 1.17, meaning it’s only 1.17 times more likely to be sung in October compared to the rest of the year. So even though it’s a more common hymn, it’s nothing special in October.</p>
<p>However, sample size affects these calculations. The hymn that actually has the highest October-to-not-October ratio is <hymn>Arise, O God, and Shine (#265)</hymn>, which is not sung very often (about once every 9.3 years). I can’t think of a good reason for why that hymn would be more popular in October, and it’s likely just because of a fluke in the data. And with smaller sample sizes, flukes appear bigger. I considered filtering the data to only include hymns that have been sung a certain number of times, but that wasn’t good because some infrequent hymns may indeed be specific to certain times.</p>
<p>The solution I came up with was to do count how many times hymn was sung in October and not October, count up all the other data I have, and <span class="math inline">\(\chi^2\)</span> on the two. So, in the case of <hymn>I Am a Child of God (#301)</hymn> above, the <span class="math inline">\(2\times2\)</span> table would look like this:</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>Hymn 301</th>
<th>All other hymns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>October</td>
<td>71</td>
<td>5,142</td>
</tr>
<tr class="even">
<td>Not October</td>
<td>313</td>
<td>58,292</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>A <span class="math inline">\(\chi^2\)</span> test on this table shows that there is an association between October and Hymn 301 (<span class="math inline">\(\chi^2\)</span> = 53.48, df = 1, <em>p &lt; -0.001</em>). So, after calculating the October-to-not-October ratio for all hymns, I then ran a <span class="math inline">\(\chi^2\)</span> test on each one to see which differences were statistically significant.</p>
<p>But, you can’t just go around making hundreds of comparisons without the chance of a bunch of false positives. Assuming an <span class="math inline">\(\alpha\)</span> level of 0.95, we’d expect 5% of the comparisions to appear statistically significant, even though thy’re not. So, a basic solution is to add a Bonferroni correction, which is to divide the base level <em>p</em>-value (0.05) by the number of comparisons being made (in this case, 233, since that’s how many unique hymns were sung in October at some point), producing a new <em>p</em>-value threshold of about 0.000021.</p>
<p>So, the following table shows only those hymns that have a <em>p</em>-value that are smaller than the new corrected threshold.</p>
</div>
</div>
</div>
<div class="no-row-height column-margin column-container"><span class="callout-1-contents callout-collapse collapse callout-margin-content">My understanding is the the Bonferroni correction is critiqued as being too harsh. In this case, it seems to work pretty well.</span></div><p>The following table shows the hymns that are quite a bit more likely to be sung in October than in other months of the year.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 26%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Hymn</th>
<th style="text-align: right;">Sung in October</th>
<th style="text-align: left;">Percent of October</th>
<th style="text-align: right;">Sung not in October</th>
<th style="text-align: left;">Percent not in October</th>
<th style="text-align: right;">Times more likely in October</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">God Bless Our Prophet Dear (24)</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">0.22%</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">0.06%</td>
<td style="text-align: right;">3.58</td>
</tr>
<tr class="even">
<td style="text-align: left;">In Our Lovely Deseret (307)</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">0.3%</td>
<td style="text-align: right;">83</td>
<td style="text-align: left;">0.1%</td>
<td style="text-align: right;">2.92</td>
</tr>
<tr class="odd">
<td style="text-align: left;">I Am a Child of God (301)</td>
<td style="text-align: right;">83</td>
<td style="text-align: left;">1.31%</td>
<td style="text-align: right;">439</td>
<td style="text-align: left;">0.54%</td>
<td style="text-align: right;">2.41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Teach Me to Walk in the Light (304)</td>
<td style="text-align: right;">83</td>
<td style="text-align: left;">1.31%</td>
<td style="text-align: right;">551</td>
<td style="text-align: left;">0.68%</td>
<td style="text-align: right;">1.92</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Come, Listen to a Prophet’s Voice (21)</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">0.61%</td>
<td style="text-align: right;">260</td>
<td style="text-align: left;">0.32%</td>
<td style="text-align: right;">1.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Come, Follow Me (116)</td>
<td style="text-align: right;">75</td>
<td style="text-align: left;">1.18%</td>
<td style="text-align: right;">564</td>
<td style="text-align: left;">0.69%</td>
<td style="text-align: right;">1.70</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As you can see <hymn>I Am a Child of God (#301)</hymn> makes the cut and it sung 2.55 times more likely to be sung in October than elsewhere during the year. Another children’s hymn, <hymn>Teach Me to Walk in the Light (#304)</hymn>, is about 1.85 times as likely. As for the two other hymns, <hymn>As I Search the Holy Scriptures (#277)</hymn> and <hymn>Come, Follow Me (#116)</hymn>, it’s not obvious to me why those might be sung more in October than in other months.</p>
<p>For what it’s worth, there are other children’s hymns that are more common in October, but didn’t make the cut because they’re more common during other months.</p>
<ul>
<li><hymn>Dearest Children, God Is Near You (#96)</hymn>, <hymn>In Our Lovely Deseret (#307), and <hymn>Keep the Commandments (#303) are common in October, as well as September. So, they have a little more broad usage.</hymn></hymn></li>
<li><hymn>Families Can Be Together Forever (#300)</hymn>, <hymn>Teach Me to Walk in the Light (#304)</hymn>, and <hymn>I Know My Father Lives (#302)</hymn> have slight spikes in October, but they’re overshadowed by their currency around Mother’s Day and/or Father’s Day, which will be the topic of a later post.</li>
<li>Other children’s hymns like <hymn>The Light Divine (#305)</hymn> and <hymn>God’s Daily Care (#306)</hymn> don’t really seem to be more common in the fall than in other times of the year.</li>
</ul>
<p>The following plot shows these select children’s hymns and how often they were sung throughout the year.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>So, other <hymn>I Am a Child of God (#301)</hymn> appears to be the most October-concentrated hymn. A few other children hymns are also popular, but they’re either not frequent enough to be statistically significant, or they’re overshadowed by their usage in other parts of the year.</p>
<section id="halloween" class="level2">
<h2 class="anchored" data-anchor-id="halloween">Halloween?</h2>
<p>Out of curiosity, I checked to see if there were any hymns sung more around Halloween. I think there’s a joke that goes around that hymns like <hymn>He is Risen! (#199)</hymn> or other resurrection-themed hymns would be funny to sing on Halloween as a reference to zombies, but there is no indication that anyone acts on that in this dataset. I have data from 421 sacrament meetings that are the last Sunday in October. In none of them do I find any Easter hymns, with the exception being <hymn>O Savior, Thou Who Wearest a Crown (#197)</hymn> as a <a href="../../posts/sacrament">sacrament hymn</a> in five of them. So, I see no evidence of any Halloween-themed sacrament meeting hymns.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2023, Joey Stanley</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>